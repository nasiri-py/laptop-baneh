{% extends 'base.html' %}

{% load base_tags %}
{% load ratings %}
{% load humanize %}

{% block title %}
    Stoke Laptop Store
{% endblock %}

{% block content %}
    <!-- Open Content -->
    <section class="bg-light">
        <div class="container pb-5">
            <div class="row">
                <div class="col-lg-5 mt-5" style="height: 100% !important;">
                    <div class="card mb-3">
                        <img class="card-img img-fluid product-cover" src="{{ product.cover.url }}"
                             alt="{{ product.title }}" id="product-detail">
                    </div>
                    <!--Start Carousel Wrapper-->
                    <div class="carousel-inner product-links-wap position-relative" role="listbox">
                        <i class="fas fa-chevron-right detail-right-slide position-absolute end-0 h3"
                           style="color: #bc1f69 !important;z-index: 2;top: 41% !important;"></i>
                        <div class="swiper-container" id="detail-swiper-container">
                            <ul class="swiper-wrapper">
                                <li class="swiper-slide detail-swiper-slide">
                                    <a href="#">
                                        <img class="card-img img-fluid m-auto" src="{{ product.cover.url }}"
                                             alt="{{ product.title }}">
                                    </a>
                                </li>
                                {% for img in product.images.all %}
                                    <li class="swiper-slide detail-swiper-slide">
                                        <a href="#">
                                            <img class="card-img img-fluid" src="{{ img.image.url }}"
                                                 alt="Product Image">
                                        </a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                        <i class="fas fa-chevron-left detail-left-slide position-absolute start-0 h3"
                           style="color: #bc1f69 !important;z-index: 2;top: 41% !important;"></i>
                    </div>
                    <!--End Carousel Wrapper-->
                </div>
                <!-- col end -->
                <div class="col-lg-7 card-detail">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="h5 border-bottom pb-3 mb-3">{{ product.title }}</h5>
                            <div class="position-relative">
                                {% ratings object %}
                            </div>
                            {% if product.available %}
                                <ul class="list-inline p-0 mb-3 mt-5">
                                    <li class="list-inline-item m-0">
                                        <h6>قیمت:</h6>
                                    </li>
                                    <li class="list-inline-item">
                                        {% if product.discount %}
                                            <ul class="list-unstyled d-flex justify-content-between align-items-center p-0">
                                                <li class="text-start text-muted text-decoration-line-through ms-5">{{ product.price|intcomma }}</li>
                                                <li class="text-start price position-relative">{{ product.discount|intcomma }}
                                                    تومان
                                                    <span class="discount-percent position-absolute">{{ product.discount_percent }}%</span>
                                                </li>
                                            </ul>
                                        {% else %}
                                            <p class="price">{{ product.price|intcomma }} تومان</p>
                                        {% endif %}
                                    </li>
                                </ul>
                                <ul class="list-inline p-0 mb-3">
                                    <li class="list-inline-item m-0">
                                        <h6>برند :</h6>
                                    </li>
                                    <li class="list-inline-item">
                                        <img src="{{ product.brand.cover.url }}" alt="{{ product.brand.name }}"
                                             width="50"
                                             height="50">
                                    </li>
                                </ul>
                                <ul class="list-inline p-0 mb-3">
                                    <li class="list-inline-item m-0">
                                        <h6>گرید :</h6>
                                    </li>
                                    <li class="list-inline-item">
                                        <h5 class="text-success mb-2">{{ product.grade_choice }}</h5>
                                    </li>
                                </ul>
                                <div class="detail-forms d-flex justify-content-between align-items-end">
                                    {% for color in product.colors.all %}
                                    {% endfor %}
                                    <form action="{% url 'orders:cart-add' product.id %}" method="post"
                                          class="shopping-form mt-3">
                                        {% csrf_token %}
                                        <input type="hidden" name="product-title" value="Activewear">
                                        <div class="row flex-column mx-1">
                                            <div class="col-auto p-0">
                                                <ul class="list-inline pb-0 px-0">
                                                    <li class="list-inline-item m-0"><h6>رنگ:</h6>
                                                        <input type="hidden" name="product-size" id="product-size"
                                                               value="S">
                                                    </li>
                                                    {% for color in colors %}
                                                        <label for="id_color_{{ color.id }}" class="btn btn-color"
                                                               style="background-color: {{ color.color }};">
                                                            <input class="d-none" type="radio" name="color"
                                                                   value="{{ color.id }}" required=""
                                                                   id="id_color_{{ color.id }}"></label>
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                            <div class="col-auto p-0">
                                                <ul class="list-inline pb-0 px-0">
                                                    <label for="product-quantity"><h6>تعداد:</h6></label>
                                                    <li class="btn btn-buy px-1 py-0 m-1"
                                                        onclick="this.parentNode.querySelector('input[name=quantity]').stepDown()">
                                                        <i class="fas fa-minus"></i>
                                                    </li>
                                                    <li class="list-inline-item m-0">
                                                        <input class="btn bg-secondary text-light no-arrow"
                                                               type="number" name="quantity" id="product-quantity"
                                                               min="1" value="1" max="2">
                                                    </li>
                                                    <li class="btn btn-buy px-1 py-0 m-1"
                                                        onclick="this.parentNode.querySelector('input[name=quantity]').stepUp()">
                                                        <i class="fas fa-plus"></i>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="row pb-4">
                                            <div class="col d-grid">
                                                <button type="submit" class="btn btn-success btn-buy btn-lg px-3"
                                                        name="submit" value="addtocard"><i class="fa fa-shopping-bag"
                                                                                           aria-hidden="true"></i>
                                                    افزودن به
                                                    سبد خرید
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                    <form action="{% url 'product:compare-add' product.id %}" method="get"
                                          class="compare-form pb-4 mx-5">
                                        <input type="hidden" name="product" value="{{ product.id }}">
                                        <button type="submit" class="btn btn-secondary btn-lg" name="submit"
                                                value="addtocard"><i class="fa fa-random" aria-hidden="true"></i> مقایسه
                                            کن
                                        </button>
                                    </form>
                                </div>
                            {% else %}
                                <ul class="list-inline p-0 my-5">
                                    <li class="list-inline-item m-0">
                                        <h6>برند :</h6>
                                    </li>
                                    <li class="list-inline-item">
                                        <img src="{{ product.brand.cover.url }}" alt="{{ product.brand.name }}"
                                             width="50"
                                             height="50">
                                    </li>
                                </ul>
                                <h3 class="mb-5" style="color: #ab59a0;">ناموجود</h3>
                                <form action="{% url 'product:compare-add' product.id %}" method="get"
                                      class="compare-form pb-0 mx-5">
                                    <input type="hidden" name="product" value="{{ product.id }}">
                                    <button type="submit" class="btn btn-secondary btn-lg" name="submit"
                                            value="addtocard"><i class="fa fa-random" aria-hidden="true"></i> مقایسه کن
                                    </button>
                                </form>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Close Content -->

    <section class="dynamic-tab">
        <div class="container">
            <div class="product-info-tabs">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="text-center text-dark h4 nav-link active" id="description-tab" data-toggle="tab"
                           href="#description" role="tab"
                           aria-controls="description" aria-selected="true">معرفی</a>
                    </li>
                    <li class="nav-item">
                        <a class="text-center text-dark h4 nav-link" id="specification-tab" data-toggle="tab"
                           href="#specification" role="tab"
                           aria-controls="specification" aria-selected="true">مشخصات</a>
                    </li>
                    <li class="nav-item">
                        <a class="text-center text-dark h4 nav-link" id="review-tab" data-toggle="tab" href="#review"
                           role="tab"
                           aria-controls="review" aria-selected="false">نظرات ({{ product.comments.count }})</a>
                    </li>
                </ul>
                <div class="tab-content rounded" id="myTabContent">
                    <div class="tab-pane fade show active p-4" id="description" role="tabpanel"
                         aria-labelledby="description-tab">
                        {{ product.description|safe }}
                    </div>
                    <div class="tab-pane fadee" id="specification" role="tabpanel"
                         aria-labelledby="specification-tab">
                        <section class="specification mt-4">
                            <h5 class="specification-header mb-3"><i class="fa fa-window-minimize"
                                                                     aria-hidden="true"></i> مشخصات فیزیکی</h5>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        مدل</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.name }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        ابعاد</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.size }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        وزن</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.weight }} کیلوگرم</p>
                                    </div>
                                </li>
                            </ul>
                        </section>
                        <section class="specification mt-4">
                            <h5 class="specification-header mb-3"><i class="fa fa-window-minimize"
                                                                     aria-hidden="true"></i> صفحه نمایش</h5>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        اندازه صفحه نمایش</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.screen_size }} اینچ</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        نوع صفحه نمایش</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.screen_type }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        رزولوشن</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.screen_resolution }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        صفحه نمایش مات</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.screen_matte %}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        صفحه نمایش لمسی</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.screen_touch %}</p>
                                    </div>
                                </li>
                            </ul>
                            {% if product.specs.screen_description %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            توضیحات صفحه نمایش</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.screen_description }}</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                        </section>
                        <section class="specification mt-4">
                            <h5 class="specification-header mb-3"><i class="fa fa-window-minimize"
                                                                     aria-hidden="true"></i> پردازنده</h5>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        سازنده</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.cpu_maker }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        سری پردازنده</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.cpu_series }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        مدل</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.cpu_model }}</p>
                                    </div>
                                </li>
                            </ul>
                            {% if product.specs.cpu_description %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            توضیحات پردازنده</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.cpu_description }}</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                        </section>
                        <section class="specification mt-4">
                            <h5 class="specification-header mb-3"><i class="fa fa-window-minimize"
                                                                     aria-hidden="true"></i> پردازنده گرافیکی</h5>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        گرافیک خارجی</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.has_gpu %}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        سازنده</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.gpu_maker }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        مدل</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.gpu_model }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        حافظه گرافیکی</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.gpu_memory }} گیگابایت</p>
                                    </div>
                                </li>
                            </ul>
                            {% if product.specs.gpu_description %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            توضیحات کارت گرافیک</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.gpu_description }}</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                        </section>
                        <section class="specification mt-4">
                            <h5 class="specification-header mb-3"><i class="fa fa-window-minimize"
                                                                     aria-hidden="true"></i> رم</h5>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        حافظه رم</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.ram_capacity }} گیگابایت</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        نوع رم</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.ram_type }}</p>
                                    </div>
                                </li>
                            </ul>
                            {% if product.specs.ram_description %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            توضیحات رم</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.ram_description }}</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                        </section>
                        <section class="specification mt-4">
                            <h5 class="specification-header mb-3"><i class="fa fa-window-minimize"
                                                                     aria-hidden="true"></i> هارد دیسک</h5>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        هارد HDD</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.has_hdd %}</p>
                                    </div>
                                </li>
                            </ul>
                            {% if product.specs.has_hdd %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            ظرفیت هارد HDD</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.hdd_capacity }}</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        هارد SSD</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.has_ssd %}</p>
                                    </div>
                                </li>
                            </ul>
                            {% if product.specs.has_ssd %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            ظرفیت هارد SSD</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.ssd_capacity }}</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                            {% if product.specs.hard_description %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            توضیحات هارد دیسک</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.hard_description }}</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                        </section>
                        <section class="specification mt-4">
                            <h5 class="specification-header mb-3"><i class="fa fa-window-minimize"
                                                                     aria-hidden="true"></i> پورت ها، اتصالات و امکانات
                            </h5>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        درایو نوری</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.optical_drive %}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        وبکم</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.webcam }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        مشخصات تاچ پد</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.touchpad_specs }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        نور پس زمینه کیبورد</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.keyboard_backlight }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        حسگر اثر انگشت</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.fingerprint %}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        کارت خوان</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.sd_card %}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        اتصال Wi-Fi</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.wifi %}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        اتصال Bluetooth</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.bluetooth }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        پورت شبکه</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.ethernet %}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        درگاه VGA</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.vga %}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        درگاه HDMI</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.hdmi %}</p>
                                    </div>
                                </li>
                            </ul>
                            {% if product.specs.usb2_num %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            درگاه USB 2.0</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.usb2_num }} درگاه</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                            {% if product.specs.usb3_num %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            درگاه USB 3.0</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.usb3_num }} درگاه</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                            {% if product.specs.type_c %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            درگاه تایپ C</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{{ product.specs.type_c }} درگاه</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                            {% if product.specs.thunderbolt %}
                                <ul class="list-inline pe-4 mb-1">
                                    <li class="row m-0 list-inline-item specification-title">
                                        <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                            درگاه thunderbolt</h6></div>
                                        <div class="col-12 col-md-9 mb-1 specification-value">
                                            <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.thunderbolt %}</p>
                                        </div>
                                    </li>
                                </ul>
                            {% endif %}
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        جک 3.5 میلیمتری</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{% boolean_icon product.specs.jack_3 %}</p>
                                    </div>
                                </li>
                            </ul>
                        </section>
                        <section class="specification my-4">
                            <h5 class="specification-header mb-3"><i class="fa fa-window-minimize"
                                                                     aria-hidden="true"></i> سایر ویژگی ها</h5>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        سیستم عامل</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.os }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        اقلام همراه</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.include_items }}</p>
                                    </div>
                                </li>
                            </ul>
                            <ul class="list-inline pe-4 mb-1">
                                <li class="row m-0 list-inline-item specification-title">
                                    <div class="col-6 col-md-2 mb-1 ms-1 specification-caption"><h6 class="m-0 p-2">
                                        مشخصات باتری</h6></div>
                                    <div class="col-12 col-md-9 mb-1 specification-value">
                                        <p class="m-0 p-2 pe-3">{{ product.specs.battery }}</p>
                                    </div>
                                </li>
                            </ul>
                        </section>
                    </div>
                    <div class="tab-pane fade" id="review" role="tabpanel" aria-labelledby="review-tab">
                        <div class="container my-5">
                            {% if user.is_authenticated %}
                                <form class="comment-form" action="{% url 'product:add-comment' product.id %}"
                                      method="post">
                                    {% csrf_token %}
                                    <textarea class="w-100 rounded" name="body" cols="100" rows="6" required=""
                                              id="id_body"></textarea>
                                    <button class="btn btn-comment" type="submit">ارسال نظر</button>
                                </form>
                            {% else %}
                                <div class="alert alert-info text-center" role="alert">
                                    برای ارسال نظر لازم است وارد <a href="{% url 'accounts:login' %}"
                                                                    class="text-decoration-none">حساب کاربری</a> خود
                                    شوید
                                </div>
                            {% endif %}
                        </div>
                        <div class="review-content">
                            {% for comment in product.comments.all %}
                                {% if not comment.is_reply %}
                                    <div class="mt-4 p-4 comment">
                                        <ul class="list-unstyled p-0 w-25">
                                            {% if user.is_staff %}
                                                <li><h5 class="comment-user mb-1"
                                                        style="color: #7803e2;">{{ comment.user.fist_name }}</h5></li>
                                            {% else %}
                                                <li><h5 class="comment-user m-0">{{ comment.user.username }}</h5></li>
                                            {% endif %}
                                            <li><p class="comment-time text-muted">{{ comment.created|naturaltime }}</p>
                                            </li>
                                        </ul>
                                        <p class="comment-body">{{ comment.body }}</p>
                                        <div class="accordion-item pt-3">
                                            <div class="accordion-header"
                                                 id="flush-headingCommentReply{{ comment.id }}">
                                                <div class="d-flex justify-content-between align-items-baseline collapsed"
                                                     type="button"
                                                     data-bs-toggle="collapse"
                                                     data-bs-target="#flush-collapseCommentReply{{ comment.id }}"
                                                     aria-expanded="false"
                                                     aria-controls="flush-collapseCommentReply{{ comment.id }}">
                                                    <button class="btn btn-reply">ارسال پاسخ</button>
                                                </div>
                                            </div>
                                            <div id="flush-collapseCommentReply{{ comment.id }}"
                                                 class="accordion-collapse collapse"
                                                 aria-labelledby="flush-headingCommentReply"
                                                 data-bs-parent="#accordionFlushExample">
                                                <div class="accordion-body mt-3">
                                                    {% if user.is_authenticated %}
                                                        <form class="comment-form"
                                                              action="{% url 'product:add-reply' product.id comment.id %}"
                                                              method="post">
                                                            {% csrf_token %}
                                                            <textarea class="w-100 rounded" name="body" cols="100"
                                                                      rows="3" required="" id="id_body"></textarea>
                                                            <button class="btn btn-comment" type="submit">ارسال</button>
                                                        </form>
                                                    {% else %}
                                                        <div class="alert alert-info text-center" role="alert">
                                                            برای ارسال پاسخ به نظرات لازم است وارد <a
                                                                href="{% url 'accounts:login' %}"
                                                                class="text-decoration-none">حساب کاربری</a> خود
                                                            شوید
                                                        </div>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                        {% for cm in comment.comments.all %}
                                            <div class="comment-reply mx-4 mt-3 p-4">
                                                <ul class="list-unstyled p-0 w-25">
                                                    {% if user.is_staff %}
                                                        <li><h5 class="comment-user mb-1"
                                                                style="color: #7803e2;">{{ comment.user.first_name }}</h5>
                                                        </li>
                                                    {% else %}
                                                        <li>
                                                            <h6 class="comment-user m-0">{{ comment.user.username }}</h6>
                                                        </li>
                                                    {% endif %}
                                                    <li>
                                                        <p class="comment-time text-muted">{{ cm.created|naturaltime }}</p>
                                                    </li>
                                                </ul>
                                                <p class="comment-body">{{ cm.body }}</p>
                                            </div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Start Article -->
    <section class="py-4 dynamic-tab swiper-products-section">
        <div class="container position-relative">
            <i class="fas fa-chevron-right right-slide2 position-absolute top-50 end-0 h3 chevron-slider"></i>
            <div class="py-2 d-flex justify-content-between align-items-baseline">
                <h4 class="h4 w-50 mb-1">محصولات مشابه</h4>
            </div>
            <div class="swiper-container" id="swiper-container2">
                <ul class="swiper-wrapper">
                    {% for product in similar_products %}
                        <li class="mb-4 swiper-slide">
                            <a href="{{ product.get_absolute_url }}" class="text-dark text-decoration-none">
                                <div class="card product-card h-100 border-0 shadow">
                                    <div class="product-card card">
                                        <img class="card-img rounded-0 rounded-top img-fluid"
                                             src="{{ product.cover.url }}">
                                    </div>
                                    <div class="card-body">
                                        <ul class="list-unstyled p-0">
                                            <li class="mb-1 product-title">{{ product.title|truncatewords:6 }}</li>
                                            <li>
                                                {% if product.available %}
                                                    <ul class="list-unstyled d-flex flex-column justify-content-between p-0">
                                                        {% if product.discount %}
                                                            <li class="text-start discount"><span
                                                                    class="mx-1 px-1 discount-percent">{{ product.discount_percent }}%</span> {{ product.discount|intcomma }}
                                                                تومان
                                                            </li>
                                                            <li class="text-start text-muted text-decoration-line-through price">
                                                                {{ product.price|intcomma }}
                                                            </li>
                                                        {% else %}
                                                            <li class="text-start discount my-2">{{ product.price|intcomma }}
                                                                تومان
                                                            </li>
                                                        {% endif %}
                                                    </ul>
                                                {% else %}
                                                    <div class="w-100 unavailable">ناموجود</div>
                                                {% endif %}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            <i class="fas fa-chevron-left left-slide2 position-absolute top-50 start-0 h3 chevron-slider"></i>
        </div>
    </section>
    <!-- End Article -->
{% endblock %}